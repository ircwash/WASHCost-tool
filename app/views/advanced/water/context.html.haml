= content_for :title do
  Start

.questionnaire

  = form_for @questionnaire, :url => advanced_water_update_url( I18n.locale, 'system_management' ), :class => 'dual_column_form' do |f|

    .dual_column_form--row

      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :water_system_exists, t( 'form.advanced.water.water_system_exists.label' ), :class => 'dual_column--field--label'
          = f.select :water_system_exists, options_for_select( options_for_water_system_exists, @questionnaire.water_system_exists ), { :include_blank=> '' }, { :class => 'dual_column_form--field--dropdown chzn-select', 'data-placeholder' => t( 'form.advanced.water.water_system_exists.placeholder' ) }

      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :country, t( 'form.advanced.shared.country.label' ), :class => 'dual_column--field--label'
          = f.select :country, options_for_select( get_countries, @questionnaire.country ), { :include_blank=> ''  }, { :class => 'dual_column_form--field--dropdown chzn-select', 'data-placeholder' => t( 'form.advanced.shared.country.placeholder' ) }

    .dual_column_form--row

      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :region, t( 'form.advanced.shared.region.label' ), :class => 'dual_column--field--label'
          = f.text_field :region, :class => 'dual_column_form--field--text_input', :placeholder => t( 'form.advanced.shared.region.placeholder' ), 'data-checkbox_toggle-field' => 'region'

        .dual_column_form--field.dual_column_form--field-box
          = f.check_box :region_unknown, { :class => 'dual_column_form--field--checkbox', 'data-checkbox_toggle-checkbox' => 'region' }, 'yes', 'no'
          = f.label :region_unknown, :class => 'dual_column--field--label dual_column--field--label-box' do
            .dual_column_form--field--styled_checkbox
            %span.dual_column--field--label-box--content= t( 'form.advanced.shared.dont_know' )


      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :town, t( 'form.advanced.shared.town.label' ), :class => 'dual_column--field--label'
          = f.text_field :town, :class => 'dual_column_form--field--text_input', :placeholder => t( 'form.advanced.shared.town.placeholder' ), 'data-checkbox_toggle-field' => 'town'

        .dual_column_form--field.dual_column_form--field-box
          = f.check_box :town_unknown, { :class => 'dual_column_form--field--checkbox', 'data-checkbox_toggle-checkbox' => 'town' }, 'yes', 'no'
          = f.label :town_unknown, :class => 'dual_column--field--label dual_column--field--label-box' do
            .dual_column_form--field--styled_checkbox
            %span.dual_column--field--label-box--content= t( 'form.advanced.shared.dont_know' )

    .dual_column_form--row

      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :area_type, t( 'form.advanced.water.area_type.label' ), :class => 'dual_column--field--label'
          = f.select :area_type, options_for_select( options_for_area_type, @questionnaire.area_type ), { :include_blank=> '' }, { :class => 'dual_column_form--field--dropdown chzn-select', 'data-placeholder' => t( 'form.advanced.water.area_type.placeholder' ) }

      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :population_density, t( 'form.advanced.water.population_density.label' ), :class => 'dual_column--field--label'
          = f.text_field :population_density, :class => 'dual_column_form--field--text_input', :placeholder => t( 'form.advanced.water.population_density.placeholder' ), 'data-checkbox_toggle-field' => 'population_density'

        .dual_column_form--field.dual_column_form--field-box
          = f.check_box :population_density_unknown, { :class => 'dual_column_form--field--checkbox', 'data-checkbox_toggle-checkbox' => 'population_density' }, 'yes', 'no'
          = f.label :population_density_unknown, :class => 'dual_column--field--label dual_column--field--label-box' do
            .dual_column_form--field--styled_checkbox
            %span.dual_column--field--label-box--content= t( 'form.advanced.shared.dont_know' )

    .dual_column_form--row

      .dual_column_form--column

        .dual_column--field--label= t( 'form.advanced.water.service_management.label' )

        - options_for_service_management.each_with_index do |option,i|

          .dual_column_form--field.dual_column_form--field-box
            = check_box_tag 'advanced_water_questionnaire[service_management][]', option[1], @questionnaire.service_management.include?( option[1].to_s ), :id => "advanced_water_questionnaire_service_management_#{i}", :class => 'dual_column_form--field--checkbox'
            = f.label "service_management_#{i}", :class => 'dual_column--field--label dual_column--field--label-box' do
              .dual_column_form--field--styled_checkbox
              %span.dual_column--field--label-box--content= option[0]

        = hidden_field_tag 'advanced_water_questionnaire[service_management][]', ''

      .dual_column_form--column

        .dual_column--field--label= t( 'form.advanced.water.construction_financier.label' )

        - options_for_construction_financier.each_with_index do |option,i|

          .dual_column_form--field.dual_column_form--field-box
            = check_box_tag 'advanced_water_questionnaire[construction_financier][]', option[1], @questionnaire.construction_financier.include?( option[1].to_s ), :id => "advanced_water_questionnaire_construction_financier_#{i}", :class => 'dual_column_form--field--checkbox'
            = f.label "construction_financier_#{i}", :class => 'dual_column--field--label dual_column--field--label-box' do
              .dual_column_form--field--styled_checkbox
              %span.dual_column--field--label-box--content= option[0]

        = hidden_field_tag 'advanced_water_questionnaire[construction_financier][]', ''

    .dual_column_form--row

      .dual_column_form--column

        .dual_column--field--label= t( 'form.advanced.water.infrastructure_operator.label' )

        - options_for_infrastructure_operator.each_with_index do |option,i|

          .dual_column_form--field.dual_column_form--field-box
            = check_box_tag 'advanced_water_questionnaire[infrastructure_operator][]', option[1], @questionnaire.infrastructure_operator.include?( option[1].to_s ), :id => "advanced_water_questionnaire_infrastructure_operator_#{i}", :class => 'dual_column_form--field--checkbox'
            = f.label "infrastructure_operator_#{i}", :class => 'dual_column--field--label dual_column--field--label-box' do
              .dual_column_form--field--styled_checkbox
              %span.dual_column--field--label-box--content= option[0]

        = hidden_field_tag 'advanced_water_questionnaire[infrastructure_operator][]', ''

      .dual_column_form--column

        .dual_column--field--label= t( 'form.advanced.water.service_responsbility.label' )

        - options_for_service_responsbility.each_with_index do |option,i|

          .dual_column_form--field.dual_column_form--field-box
            = check_box_tag 'advanced_water_questionnaire[service_responsbility][]', option[1], @questionnaire.service_responsbility.include?( option[1].to_s ), :id => "advanced_water_questionnaire_service_responsbility_#{i}", :class => 'dual_column_form--field--checkbox'
            = f.label "service_responsbility_#{i}", :class => 'dual_column--field--label dual_column--field--label-box' do
              .dual_column_form--field--styled_checkbox
              %span.dual_column--field--label-box--content= option[0]

        = hidden_field_tag 'advanced_water_questionnaire[service_responsbility][]', ''

    .dual_column_form--row

      .dual_column_form--column

        .dual_column--field--label= t( 'form.advanced.water.standard_enforcer.label' )

        - options_for_standard_enforcer.each_with_index do |option,i|

          .dual_column_form--field.dual_column_form--field-box
            = check_box_tag 'advanced_water_questionnaire[standard_enforcer][]', option[1], @questionnaire.standard_enforcer.include?( option[1].to_s ), :id => "advanced_water_questionnaire_standard_enforcer_#{i}", :class => 'dual_column_form--field--checkbox'
            = f.label "standard_enforcer_#{i}", :class => 'dual_column--field--label dual_column--field--label-box' do
              .dual_column_form--field--styled_checkbox
              %span.dual_column--field--label-box--content= option[0]

        = hidden_field_tag 'advanced_water_questionnaire[standard_enforcer][]', ''

      .dual_column_form--column

        .dual_column--field--label= t( 'form.advanced.water.rehabilitation_cost_owner.label' )

        - options_for_rehabilitation_cost_owner.each_with_index do |option,i|

          .dual_column_form--field.dual_column_form--field-box
            = check_box_tag 'advanced_water_questionnaire[rehabilitation_cost_owner][]', option[1], @questionnaire.rehabilitation_cost_owner.include?( option[1].to_s ), :id => "advanced_water_questionnaire_rehabilitation_cost_owner_#{i}", :class => 'dual_column_form--field--checkbox'
            = f.label "rehabilitation_cost_owner_#{i}", :class => 'dual_column--field--label dual_column--field--label-box' do
              .dual_column_form--field--styled_checkbox
              %span.dual_column--field--label-box--content= option[0]

        = hidden_field_tag 'advanced_water_questionnaire[rehabilitation_cost_owner][]', ''

    .dual_column_form--row

      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :annual_household_income, t( 'form.advanced.water.annual_household_income.label' ), :class => 'dual_column--field--label'
          = f.text_field :annual_household_income, :class => 'dual_column_form--field--text_input', :placeholder => t( 'form.advanced.water.annual_household_income.placeholder' ), 'data-checkbox_toggle-field' => 'annual_household_income'

      .dual_column_form--column
        .dual_column_form--field.dual_column_form--field-dropdown
          = f.label :household_size, t( 'form.advanced.water.household_size.label' ), :class => 'dual_column--field--label'
          = f.text_field :household_size, :class => 'dual_column_form--field--text_input', :placeholder => t( 'form.advanced.water.household_size.placeholder' ), 'data-checkbox_toggle-field' => 'household_size'

    .question--buttons
      = submit_tag((t 'buttons.next'), class: 'button')
